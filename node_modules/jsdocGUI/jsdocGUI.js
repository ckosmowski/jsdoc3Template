	console.log('jsdocGUI 1');
	
	
var gui = require('nw.gui');

	console.log(gui);
(function(nwWindow){
	var window = nwWindow.window,
		$ = window.jQuery
	;
	
	console.log('jsdocGUI 2');
	
	require('./keyboard.js');
	
	$(document).ready(function(){
		
		var gui = require('nw.gui');
		var win = gui.Window.get();
		$(document).bind('Key.F12', function(event){
			win.showDevTools();
		});
		$(document).bind('Key.F1', function(event){
			$('#myModal').modal('show');
		});
		$(document).bind('Key.F5', function(event){
			win.reloadIgnoringCache();
		});
		
		$('#closeModal').modal({
			backdrop: true,
			keyboard: false,
			show: false
		});
		
		$('.CLOSE_ACTION').click(function(){
			win.close();
		});
		$('.FORCE_CLOSE_ACTION').click(function(){
			win.close(true);
		});
		$('.MINIMIZE_ACTION').click(function(){
			win.minimize();
		});
		$('.DEVTOOLS_ACTION').click(function(){
			win.showDevTools();
		});
		
		win.on('close', function() {
			
			$('#closeModal').modal('show');
			// show confirmation
			
			return false;
		});

		$('input[type="file"]').each(function(){
			var chooser = $(this);
			chooser.attr('nwworkingdir', process.cwd());
			chooser.siblings('button').click(function(){
					
				chooser.trigger('click');            
				chooser.change(function(evt) {
					if(chooser.val() != ''){
						chooser.attr('nwworkingdir', chooser.val());
						chooser.siblings('input').val(chooser.val());
						console.log($(this).val());
					}
				});
			});
		});

		
	});
	
}( require('nw.gui').Window.get() ));